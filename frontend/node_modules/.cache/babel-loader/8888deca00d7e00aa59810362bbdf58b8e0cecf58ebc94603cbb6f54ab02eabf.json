{"ast":null,"code":"var _jsxFileName = \"/home/user/agrivision/frontend/src/components/Dashboard/ImageAnalysisModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport Modal from 'react-modal';\nimport { X, Loader, ZoomIn } from 'lucide-react';\nimport ImagePreviewModal from './ImagePreviewModal';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AI_MODELS = [{\n  id: 'blur',\n  name: 'Flou Gaussien',\n  description: \"Appliquer un effet de flou sur l'image\",\n  endpoint: 'http://localhost:5008/api/blur',\n  type: 'analysis'\n}, {\n  id: \"disease-detection\",\n  name: \"Détection des maladies\",\n  description: \"Identifier les maladies sur les feuilles des plantes.\",\n  endpoint: \"http://localhost:5007/api/disease-detection\",\n  type: 'analysis'\n}, {\n  id: \"fruit-quality\",\n  name: \"Classification et Qualité des Fruits\",\n  description: \"Analyser et classifier les fruits tout en vérifiant leur qualité.\",\n  endpoint: \"http://localhost:5000/api/predict\",\n  type: 'analysis'\n}, {\n  id: 'ndvi',\n  name: 'Carte NDVI',\n  description: \"Analyser les besoins en irrigation à l'aide de l'indice NDVI\",\n  endpoint: 'http://localhost:5001/api/ndvi',\n  type: 'analysis'\n}, {\n  id: 'edge-detection',\n  name: 'Détection des contours',\n  description: 'Détecter les contours de l\\'image',\n  endpoint: 'http://localhost:5004/api/edge-detection',\n  type: 'detection'\n}, {\n  id: 'tree-detection',\n  name: 'Détection des Arbres',\n  description: 'Détecter et compter les arbres',\n  endpoint: 'http://localhost:5003/api/analyze-trees',\n  type: 'detection'\n}];\n\n// Composant pour afficher les résultats\nconst ResultDisplay = ({\n  analysisResults\n}) => {\n  var _analysisResults$data, _analysisResults$data2;\n  // Vérifie si on a une image à afficher\n  const hasImage = analysisResults === null || analysisResults === void 0 ? void 0 : analysisResults.processedImageUrl;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-4\",\n    children: [hasImage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative aspect-video bg-white rounded-lg overflow-hidden\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: analysisResults.processedImageUrl,\n        alt: \"R\\xE9sultat\",\n        className: \"object-contain w-full h-full\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 10\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 8\n    }, this), analysisResults && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg p-4 shadow-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-green-700 mb-3\",\n        children: \"R\\xE9sultats\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 10\n      }, this), analysisResults.tree_count !== undefined && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Nombre d'arbres d\\xE9tect\\xE9s : \", analysisResults.tree_count]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 12\n      }, this), ((_analysisResults$data = analysisResults.data) === null || _analysisResults$data === void 0 ? void 0 : _analysisResults$data.disease) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Maladie d\\xE9tect\\xE9e : \", analysisResults.data.disease]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Confiance : \", analysisResults.data.confidence, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 14\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 12\n      }, this), ((_analysisResults$data2 = analysisResults.data) === null || _analysisResults$data2 === void 0 ? void 0 : _analysisResults$data2.fruit) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Fruit : \", analysisResults.data.fruit]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Fra\\xEEcheur : \", analysisResults.data.freshness, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Non fra\\xEEcheur : \", analysisResults.data.not_freshness, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 14\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 12\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 8\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 4\n  }, this);\n};\n_c = ResultDisplay;\nexport default function ImageAnalysisModal({\n  isOpen,\n  onClose,\n  selectedImage\n}) {\n  _s();\n  const [processedImageUrl, setProcessedImageUrl] = useState(null);\n  const [processing, setProcessing] = useState(false);\n  const [error, setError] = useState(null);\n  const [selectedModel, setSelectedModel] = useState(null);\n  const [previewImage, setPreviewImage] = useState(null);\n  const [selectedType, setSelectedType] = useState('analysis');\n  const [analysisResults, setAnalysisResults] = useState(null);\n  const filteredModels = AI_MODELS.filter(model => model.type === selectedType);\n  const handleModelSelect = async model => {\n    if (!selectedImage) {\n      setError(\"Aucune image sélectionnée.\");\n      return;\n    }\n    setProcessedImageUrl(null);\n    setAnalysisResults(null);\n    setProcessing(true);\n    setError(null);\n    setSelectedModel(model);\n    try {\n      const fullImagePath = `${process.env.REACT_APP_FILE_SERVICE_URL}${selectedImage.file_path}`;\n      const response = await fetch(model.endpoint, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          imagePath: fullImagePath\n        })\n      });\n      if (!response.ok) throw new Error('Erreur lors du traitement de l\\'image');\n      const result = await response.json();\n      setAnalysisResults(result);\n    } catch (err) {\n      setError(err.message);\n      setProcessedImageUrl(null);\n      setAnalysisResults(null);\n    } finally {\n      setProcessing(false);\n    }\n  };\n  const handleClose = () => {\n    setProcessedImageUrl(null);\n    setError(null);\n    setSelectedModel(null);\n    setPreviewImage(null);\n    setAnalysisResults(null);\n    onClose();\n  };\n  const handleOriginalImageClick = () => {\n    setPreviewImage(selectedImage);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isOpen,\n      onRequestClose: handleClose,\n      className: \"bg-white rounded-xl max-w-7xl mx-auto mt-10 p-0 h-[80vh] overflow-hidden\",\n      overlayClassName: \"fixed inset-0 bg-black bg-opacity-50 flex items-start\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col h-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center p-4 border-b\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold text-gray-800\",\n            children: \"Analyse d'Image avec IA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleClose,\n            className: \"p-2 hover:bg-gray-100 rounded-full\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 14\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 12\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-1 min-h-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-64 border-r bg-gray-50 p-4 overflow-y-auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between p-2 bg-white rounded-lg shadow-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setSelectedType('analysis'),\n                  className: `px-3 py-1 rounded-md transition ${selectedType === 'analysis' ? 'bg-green-100 text-green-700' : 'hover:bg-gray-100'}`,\n                  children: \"Analysis\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 18\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setSelectedType('detection'),\n                  className: `px-3 py-1 rounded-md transition ${selectedType === 'detection' ? 'bg-green-100 text-green-700' : 'hover:bg-gray-100'}`,\n                  children: \"Detection\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 18\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 16\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-medium text-gray-700 mb-4\",\n              children: \"Mod\\xE8les disponibles\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: filteredModels.map(model => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleModelSelect(model),\n                disabled: processing,\n                className: `w-full p-3 rounded-lg text-left transition ${(selectedModel === null || selectedModel === void 0 ? void 0 : selectedModel.id) === model.id ? 'bg-green-100 text-green-700' : 'hover:bg-gray-100'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium\",\n                  children: model.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 20\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-500\",\n                  children: model.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 20\n                }, this)]\n              }, model.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 18\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 14\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 p-6 overflow-y-auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-6 h-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-50 rounded-lg p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-sm font-medium text-gray-500 mb-2\",\n                  children: \"Image originale\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 18\n                }, this), selectedImage !== null && selectedImage !== void 0 && selectedImage.file_path ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cursor-pointer\",\n                  onClick: handleOriginalImageClick,\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"relative aspect-video bg-white rounded-lg overflow-hidden group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: `${process.env.REACT_APP_FILE_SERVICE_URL}${selectedImage.file_path}`,\n                      alt: \"Original\",\n                      className: \"object-contain w-full h-full\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 230,\n                      columnNumber: 24\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 flex items-center justify-center transition-opacity\",\n                      children: /*#__PURE__*/_jsxDEV(ZoomIn, {\n                        className: \"w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 236,\n                        columnNumber: 26\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 235,\n                      columnNumber: 24\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 22\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 20\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-center h-full text-gray-400\",\n                  children: \"Chargement de l'image...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 20\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 16\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-50 rounded-lg p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-sm font-medium text-gray-500 mb-2\",\n                  children: \"R\\xE9sultat\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 18\n                }, this), processing ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-center h-full\",\n                  children: /*#__PURE__*/_jsxDEV(Loader, {\n                    className: \"w-8 h-8 animate-spin text-green-600 mx-auto\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 22\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 20\n                }, this) : analysisResults ? /*#__PURE__*/_jsxDEV(ResultDisplay, {\n                  analysisResults: analysisResults\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 20\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-center h-full text-gray-400\",\n                  children: \"Aucun r\\xE9sultat disponible\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 20\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 16\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 14\n            }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-600\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 16\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 12\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 8\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(ImagePreviewModal, {\n      isOpen: previewImage !== null,\n      onClose: () => setPreviewImage(null),\n      image: previewImage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 6\n    }, this)]\n  }, void 0, true);\n}\n_s(ImageAnalysisModal, \"Fr62DdAoOcjz2jDVEySK2z5DdvA=\");\n_c2 = ImageAnalysisModal;\nvar _c, _c2;\n$RefreshReg$(_c, \"ResultDisplay\");\n$RefreshReg$(_c2, \"ImageAnalysisModal\");","map":{"version":3,"names":["React","useState","Modal","X","Loader","ZoomIn","ImagePreviewModal","jsxDEV","_jsxDEV","Fragment","_Fragment","AI_MODELS","id","name","description","endpoint","type","ResultDisplay","analysisResults","_analysisResults$data","_analysisResults$data2","hasImage","processedImageUrl","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","tree_count","undefined","data","disease","confidence","fruit","freshness","not_freshness","_c","ImageAnalysisModal","isOpen","onClose","selectedImage","_s","setProcessedImageUrl","processing","setProcessing","error","setError","selectedModel","setSelectedModel","previewImage","setPreviewImage","selectedType","setSelectedType","setAnalysisResults","filteredModels","filter","model","handleModelSelect","fullImagePath","process","env","REACT_APP_FILE_SERVICE_URL","file_path","response","fetch","method","headers","body","JSON","stringify","imagePath","ok","Error","result","json","err","message","handleClose","handleOriginalImageClick","onRequestClose","overlayClassName","onClick","map","disabled","image","_c2","$RefreshReg$"],"sources":["/home/user/agrivision/frontend/src/components/Dashboard/ImageAnalysisModal.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Modal from 'react-modal';\r\nimport { X, Loader, ZoomIn } from 'lucide-react';\r\nimport ImagePreviewModal from './ImagePreviewModal';\r\n\r\nconst AI_MODELS = [\r\n{\r\n  id: 'blur',\r\n  name: 'Flou Gaussien',\r\n  description: \"Appliquer un effet de flou sur l'image\",\r\n  endpoint: 'http://localhost:5008/api/blur',\r\n  type: 'analysis'\r\n},\r\n{\r\n  id: \"disease-detection\",\r\n  name: \"Détection des maladies\",\r\n  description: \"Identifier les maladies sur les feuilles des plantes.\",\r\n  endpoint: \"http://localhost:5007/api/disease-detection\",\r\n  type: 'analysis'\r\n},\r\n{\r\n  id: \"fruit-quality\",\r\n  name: \"Classification et Qualité des Fruits\",\r\n  description: \"Analyser et classifier les fruits tout en vérifiant leur qualité.\",\r\n  endpoint: \"http://localhost:5000/api/predict\",\r\n  type: 'analysis'\r\n},\r\n{\r\n  id: 'ndvi',\r\n  name: 'Carte NDVI',\r\n  description: \"Analyser les besoins en irrigation à l'aide de l'indice NDVI\",\r\n  endpoint: 'http://localhost:5001/api/ndvi',\r\n  type: 'analysis'\r\n},\r\n{\r\n  id: 'edge-detection',\r\n  name: 'Détection des contours',\r\n  description: 'Détecter les contours de l\\'image',\r\n  endpoint: 'http://localhost:5004/api/edge-detection',\r\n  type: 'detection'\r\n},\r\n{\r\n  id: 'tree-detection',\r\n  name: 'Détection des Arbres',\r\n  description: 'Détecter et compter les arbres',\r\n  endpoint: 'http://localhost:5003/api/analyze-trees',\r\n  type: 'detection'\r\n}\r\n];\r\n\r\n// Composant pour afficher les résultats\r\nconst ResultDisplay = ({ analysisResults }) => {\r\n // Vérifie si on a une image à afficher\r\n const hasImage = analysisResults?.processedImageUrl;\r\n \r\n return (\r\n   <div className=\"space-y-4\">\r\n     {/* Affichage de l'image traitée si disponible */}\r\n     {hasImage && (\r\n       <div className=\"relative aspect-video bg-white rounded-lg overflow-hidden\">\r\n         <img\r\n           src={analysisResults.processedImageUrl}\r\n           alt=\"Résultat\"\r\n           className=\"object-contain w-full h-full\"\r\n         />\r\n       </div>\r\n     )}\r\n\r\n     {/* Affichage des données textuelles si disponibles */}\r\n     {analysisResults && (\r\n       <div className=\"bg-white rounded-lg p-4 shadow-sm\">\r\n         <h3 className=\"text-lg font-semibold text-green-700 mb-3\">Résultats</h3>\r\n         \r\n         {/* Détection d'arbres */}\r\n         {analysisResults.tree_count !== undefined && (\r\n           <p>Nombre d'arbres détectés : {analysisResults.tree_count}</p>\r\n         )}\r\n\r\n         {/* Détection de maladies */}\r\n         {analysisResults.data?.disease && (\r\n           <div className=\"space-y-2\">\r\n             <p>Maladie détectée : {analysisResults.data.disease}</p>\r\n             <p>Confiance : {analysisResults.data.confidence}%</p>\r\n           </div>\r\n         )}\r\n\r\n         {/* Qualité des fruits */}\r\n         {analysisResults.data?.fruit && (\r\n           <div className=\"space-y-2\">\r\n             <p>Fruit : {analysisResults.data.fruit}</p>\r\n             <p>Fraîcheur : {analysisResults.data.freshness}%</p>\r\n             <p>Non fraîcheur : {analysisResults.data.not_freshness}%</p>\r\n           </div>\r\n         )}\r\n       </div>\r\n     )}\r\n   </div>\r\n );\r\n};\r\n\r\nexport default function ImageAnalysisModal({ isOpen, onClose, selectedImage }) {\r\n const [processedImageUrl, setProcessedImageUrl] = useState(null);\r\n const [processing, setProcessing] = useState(false);\r\n const [error, setError] = useState(null);\r\n const [selectedModel, setSelectedModel] = useState(null);\r\n const [previewImage, setPreviewImage] = useState(null);\r\n const [selectedType, setSelectedType] = useState('analysis');\r\n const [analysisResults, setAnalysisResults] = useState(null);\r\n\r\n const filteredModels = AI_MODELS.filter(model => model.type === selectedType);\r\n\r\n const handleModelSelect = async (model) => {\r\n   if (!selectedImage) {\r\n     setError(\"Aucune image sélectionnée.\");\r\n     return;\r\n   }\r\n\r\n   setProcessedImageUrl(null);\r\n   setAnalysisResults(null);\r\n   setProcessing(true);\r\n   setError(null);\r\n   setSelectedModel(model);\r\n\r\n   try {\r\n     const fullImagePath = `${process.env.REACT_APP_FILE_SERVICE_URL}${selectedImage.file_path}`;\r\n\r\n     const response = await fetch(model.endpoint, {\r\n       method: 'POST',\r\n       headers: { 'Content-Type': 'application/json' },\r\n       body: JSON.stringify({ imagePath: fullImagePath }),\r\n     });\r\n\r\n     if (!response.ok) throw new Error('Erreur lors du traitement de l\\'image');\r\n\r\n     const result = await response.json();\r\n     setAnalysisResults(result);\r\n\r\n   } catch (err) {\r\n     setError(err.message);\r\n     setProcessedImageUrl(null);\r\n     setAnalysisResults(null);\r\n   } finally {\r\n     setProcessing(false);\r\n   }\r\n };\r\n\r\n const handleClose = () => {\r\n   setProcessedImageUrl(null);\r\n   setError(null);\r\n   setSelectedModel(null);\r\n   setPreviewImage(null);\r\n   setAnalysisResults(null);\r\n   onClose();\r\n };\r\n\r\n const handleOriginalImageClick = () => {\r\n   setPreviewImage(selectedImage);\r\n };\r\n\r\n return (\r\n   <>\r\n     <Modal\r\n       isOpen={isOpen}\r\n       onRequestClose={handleClose}\r\n       className=\"bg-white rounded-xl max-w-7xl mx-auto mt-10 p-0 h-[80vh] overflow-hidden\"\r\n       overlayClassName=\"fixed inset-0 bg-black bg-opacity-50 flex items-start\"\r\n     >\r\n       <div className=\"flex flex-col h-full\">\r\n         <div className=\"flex justify-between items-center p-4 border-b\">\r\n           <h2 className=\"text-xl font-semibold text-gray-800\">Analyse d'Image avec IA</h2>\r\n           <button onClick={handleClose} className=\"p-2 hover:bg-gray-100 rounded-full\">\r\n             <X className=\"w-5 h-5\" />\r\n           </button>\r\n         </div>\r\n\r\n         <div className=\"flex flex-1 min-h-0\">\r\n           <div className=\"w-64 border-r bg-gray-50 p-4 overflow-y-auto\">\r\n             <div className=\"mb-4\">\r\n               <div className=\"flex items-center justify-between p-2 bg-white rounded-lg shadow-sm\">\r\n                 <button\r\n                   onClick={() => setSelectedType('analysis')}\r\n                   className={`px-3 py-1 rounded-md transition ${\r\n                     selectedType === 'analysis'\r\n                       ? 'bg-green-100 text-green-700'\r\n                       : 'hover:bg-gray-100'\r\n                   }`}\r\n                 >\r\n                   Analysis\r\n                 </button>\r\n                 <button\r\n                   onClick={() => setSelectedType('detection')}\r\n                   className={`px-3 py-1 rounded-md transition ${\r\n                     selectedType === 'detection'\r\n                       ? 'bg-green-100 text-green-700'\r\n                       : 'hover:bg-gray-100'\r\n                   }`}\r\n                 >\r\n                   Detection\r\n                 </button>\r\n               </div>\r\n             </div>\r\n\r\n             <h3 className=\"font-medium text-gray-700 mb-4\">Modèles disponibles</h3>\r\n             <div className=\"space-y-2\">\r\n               {filteredModels.map((model) => (\r\n                 <button\r\n                   key={model.id}\r\n                   onClick={() => handleModelSelect(model)}\r\n                   disabled={processing}\r\n                   className={`w-full p-3 rounded-lg text-left transition ${\r\n                     selectedModel?.id === model.id\r\n                       ? 'bg-green-100 text-green-700'\r\n                       : 'hover:bg-gray-100'\r\n                   }`}\r\n                 >\r\n                   <div className=\"font-medium\">{model.name}</div>\r\n                   <div className=\"text-sm text-gray-500\">{model.description}</div>\r\n                 </button>\r\n               ))}\r\n             </div>\r\n           </div>\r\n\r\n           <div className=\"flex-1 p-6 overflow-y-auto\">\r\n             <div className=\"grid grid-cols-2 gap-6 h-full\">\r\n               <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                 <h4 className=\"text-sm font-medium text-gray-500 mb-2\">Image originale</h4>\r\n                 {selectedImage?.file_path ? (\r\n                   <div className=\"cursor-pointer\" onClick={handleOriginalImageClick}>\r\n                     <div className=\"relative aspect-video bg-white rounded-lg overflow-hidden group\">\r\n                       <img\r\n                         src={`${process.env.REACT_APP_FILE_SERVICE_URL}${selectedImage.file_path}`}\r\n                         alt=\"Original\"\r\n                         className=\"object-contain w-full h-full\"\r\n                       />\r\n                       <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 flex items-center justify-center transition-opacity\">\r\n                         <ZoomIn className=\"w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity\" />\r\n                       </div>\r\n                     </div>\r\n                   </div>\r\n                 ) : (\r\n                   <div className=\"flex items-center justify-center h-full text-gray-400\">\r\n                     Chargement de l'image...\r\n                   </div>\r\n                 )}\r\n               </div>\r\n\r\n               <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                 <h4 className=\"text-sm font-medium text-gray-500 mb-2\">Résultat</h4>\r\n                 {processing ? (\r\n                   <div className=\"flex items-center justify-center h-full\">\r\n                     <Loader className=\"w-8 h-8 animate-spin text-green-600 mx-auto\" />\r\n                   </div>\r\n                 ) : analysisResults ? (\r\n                   <ResultDisplay analysisResults={analysisResults} />\r\n                 ) : (\r\n                   <div className=\"flex items-center justify-center h-full text-gray-400\">\r\n                     Aucun résultat disponible\r\n                   </div>\r\n                 )}\r\n               </div>\r\n             </div>\r\n\r\n             {error && (\r\n               <div className=\"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-600\">\r\n                 {error}\r\n               </div>\r\n             )}\r\n           </div>\r\n         </div>\r\n       </div>\r\n     </Modal>\r\n\r\n     <ImagePreviewModal\r\n       isOpen={previewImage !== null}\r\n       onClose={() => setPreviewImage(null)}\r\n       image={previewImage}\r\n     />\r\n   </>\r\n );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}