{"ast":null,"code":"var _jsxFileName = \"/home/user/agrivision/frontend/src/components/Dashboard/ImageAnalysisModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport Modal from 'react-modal';\nimport { X, Loader, ZoomIn } from 'lucide-react';\nimport ImagePreviewModal from './ImagePreviewModal';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AI_MODELS = [{\n  id: 'blur',\n  name: 'Flou Gaussien',\n  description: \"Appliquer un effet de flou sur l'image\",\n  endpoint: 'http://localhost:5008/api/blur',\n  type: 'analysis'\n}, {\n  id: \"disease-detection\",\n  name: \"Détection des maladies\",\n  description: \"Identifier les maladies sur les feuilles des plantes.\",\n  endpoint: \"http://localhost:5007/api/disease-detection\",\n  type: 'analysis'\n}, {\n  id: \"fruit-quality\",\n  name: \"Classification et Qualité des Fruits\",\n  description: \"Analyser et classifier les fruits tout en vérifiant leur qualité.\",\n  endpoint: \"http://localhost:5000/api/predict\",\n  type: 'analysis'\n}, {\n  id: 'ndvi',\n  name: 'Carte NDVI',\n  description: \"Analyser les besoins en irrigation à l'aide de l'indice NDVI\",\n  endpoint: 'http://localhost:5001/api/ndvi',\n  type: 'analysis'\n}, {\n  id: 'edge-detection',\n  name: 'Détection des contours',\n  description: 'Détecter les contours de l\\'image',\n  endpoint: 'http://localhost:5004/api/edge-detection',\n  type: 'detection'\n}, {\n  id: 'tree-detection',\n  name: 'Détection des Arbres',\n  description: 'Détecter et compter les arbres',\n  endpoint: 'http://localhost:5003/api/analyze-trees',\n  type: 'detection'\n}];\nexport default function ImageAnalysisModal({\n  isOpen,\n  onClose,\n  selectedImage\n}) {\n  _s();\n  const [processedImageUrl, setProcessedImageUrl] = useState(null);\n  const [processing, setProcessing] = useState(false);\n  const [error, setError] = useState(null);\n  const [selectedModel, setSelectedModel] = useState(null);\n  const [previewImage, setPreviewImage] = useState(null);\n  const [selectedType, setSelectedType] = useState('analysis');\n  const [analysisResults, setAnalysisResults] = useState(null);\n  const filteredModels = AI_MODELS.filter(model => model.type === selectedType);\n  const handleModelSelect = async model => {\n    if (!selectedImage) {\n      setError(\"Aucune image sélectionnée.\");\n      return;\n    }\n    setProcessedImageUrl(null);\n    setAnalysisResults(null);\n    setProcessing(true);\n    setError(null);\n    setSelectedModel(model);\n    try {\n      const fullImagePath = `${process.env.REACT_APP_FILE_SERVICE_URL}${selectedImage.file_path}`;\n      const response = await fetch(model.endpoint, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          imagePath: fullImagePath\n        })\n      });\n      if (!response.ok) throw new Error('Erreur lors du traitement de l\\'image');\n      const result = await response.json();\n      if (result.processedImageUrl) {\n        setProcessedImageUrl(result.processedImageUrl);\n      }\n      setAnalysisResults(result);\n    } catch (err) {\n      setError(err.message);\n      setProcessedImageUrl(null);\n      setAnalysisResults(null);\n    } finally {\n      setProcessing(false);\n    }\n  };\n  const handleClose = () => {\n    setProcessedImageUrl(null);\n    setError(null);\n    setSelectedModel(null);\n    setPreviewImage(null);\n    setAnalysisResults(null);\n    onClose();\n  };\n  const handleOriginalImageClick = () => {\n    setPreviewImage(selectedImage);\n  };\n  const handleProcessedImageClick = () => {\n    if (processedImageUrl) {\n      setPreviewImage({\n        file_path: processedImageUrl.replace(process.env.REACT_APP_FILE_SERVICE_URL, '')\n      });\n    }\n  };\n  const renderAnalysisResults = () => {\n    if (!analysisResults) return null;\n    switch (selectedModel === null || selectedModel === void 0 ? void 0 : selectedModel.id) {\n      case 'tree-detection':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 p-4 bg-white rounded-lg shadow\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-green-700 mb-2\",\n            children: \"R\\xE9sultats\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Nombre d'arbres d\\xE9tect\\xE9s : \", analysisResults.tree_count]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 12\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 10\n        }, this);\n      case 'disease-detection':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 p-4 bg-white rounded-lg shadow\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-green-700 mb-2\",\n            children: \"R\\xE9sultats\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Maladie d\\xE9tect\\xE9e : \", analysisResults.data.disease]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Confiance : \", analysisResults.data.confidence, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 12\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 10\n        }, this);\n      case 'fruit-quality':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 p-4 bg-white rounded-lg shadow\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-green-700 mb-2\",\n            children: \"R\\xE9sultats\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Fruit : \", analysisResults.data.fruit]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Fra\\xEEcheur : \", analysisResults.data.freshness, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Non fra\\xEEcheur : \", analysisResults.data.not_freshness, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 12\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 10\n        }, this);\n      default:\n        return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isOpen,\n      onRequestClose: handleClose,\n      className: \"bg-white rounded-xl max-w-7xl mx-auto mt-10 p-0 h-[80vh] overflow-hidden\",\n      overlayClassName: \"fixed inset-0 bg-black bg-opacity-50 flex items-start\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col h-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center p-4 border-b\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold text-gray-800\",\n            children: \"Analyse d'Image avec IA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleClose,\n            className: \"p-2 hover:bg-gray-100 rounded-full\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 14\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 12\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-1 min-h-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-64 border-r bg-gray-50 p-4 overflow-y-auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between p-2 bg-white rounded-lg shadow-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setSelectedType('analysis'),\n                  className: `px-3 py-1 rounded-md transition ${selectedType === 'analysis' ? 'bg-green-100 text-green-700' : 'hover:bg-gray-100'}`,\n                  children: \"Analysis\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 18\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setSelectedType('detection'),\n                  className: `px-3 py-1 rounded-md transition ${selectedType === 'detection' ? 'bg-green-100 text-green-700' : 'hover:bg-gray-100'}`,\n                  children: \"Detection\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 18\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 16\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-medium text-gray-700 mb-4\",\n              children: \"Mod\\xE8les disponibles\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: filteredModels.map(model => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleModelSelect(model),\n                disabled: processing,\n                className: `w-full p-3 rounded-lg text-left transition ${(selectedModel === null || selectedModel === void 0 ? void 0 : selectedModel.id) === model.id ? 'bg-green-100 text-green-700' : 'hover:bg-gray-100'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium\",\n                  children: model.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 20\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-500\",\n                  children: model.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 20\n                }, this)]\n              }, model.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 18\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 14\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 p-6 overflow-y-auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-6 h-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-50 rounded-lg p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-sm font-medium text-gray-500 mb-2\",\n                  children: \"Image originale\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 18\n                }, this), selectedImage !== null && selectedImage !== void 0 && selectedImage.file_path ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cursor-pointer\",\n                  onClick: handleOriginalImageClick,\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"relative aspect-video bg-white rounded-lg overflow-hidden group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: `${process.env.REACT_APP_FILE_SERVICE_URL}${selectedImage.file_path}`,\n                      alt: \"Original\",\n                      className: \"object-contain w-full h-full\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 225,\n                      columnNumber: 24\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 flex items-center justify-center transition-opacity\",\n                      children: /*#__PURE__*/_jsxDEV(ZoomIn, {\n                        className: \"w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 231,\n                        columnNumber: 26\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 230,\n                      columnNumber: 24\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 224,\n                    columnNumber: 22\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 20\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-center h-full text-gray-400\",\n                  children: \"Chargement de l'image...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 20\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 16\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-50 rounded-lg p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-sm font-medium text-gray-500 mb-2\",\n                  children: \"R\\xE9sultat\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 18\n                }, this), processing ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-center h-full\",\n                  children: /*#__PURE__*/_jsxDEV(Loader, {\n                    className: \"w-8 h-8 animate-spin text-green-600 mx-auto\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 246,\n                    columnNumber: 22\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 20\n                }, this) : processedImageUrl ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cursor-pointer\",\n                  onClick: handleProcessedImageClick,\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"relative aspect-video bg-white rounded-lg overflow-hidden group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: processedImageUrl,\n                      alt: \"R\\xE9sultat\",\n                      className: \"object-contain w-full h-full\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 251,\n                      columnNumber: 24\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 flex items-center justify-center transition-opacity\",\n                      children: /*#__PURE__*/_jsxDEV(ZoomIn, {\n                        className: \"w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 257,\n                        columnNumber: 26\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 256,\n                      columnNumber: 24\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 22\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 20\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-center h-full text-gray-400\",\n                  children: \"Aucun r\\xE9sultat disponible\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 20\n                }, this), renderAnalysisResults()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 16\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 14\n            }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-600\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 16\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 12\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 8\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(ImagePreviewModal, {\n      isOpen: previewImage !== null,\n      onClose: () => setPreviewImage(null),\n      image: previewImage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 6\n    }, this)]\n  }, void 0, true);\n}\n_s(ImageAnalysisModal, \"Fr62DdAoOcjz2jDVEySK2z5DdvA=\");\n_c = ImageAnalysisModal;\nvar _c;\n$RefreshReg$(_c, \"ImageAnalysisModal\");","map":{"version":3,"names":["React","useState","Modal","X","Loader","ZoomIn","ImagePreviewModal","jsxDEV","_jsxDEV","Fragment","_Fragment","AI_MODELS","id","name","description","endpoint","type","ImageAnalysisModal","isOpen","onClose","selectedImage","_s","processedImageUrl","setProcessedImageUrl","processing","setProcessing","error","setError","selectedModel","setSelectedModel","previewImage","setPreviewImage","selectedType","setSelectedType","analysisResults","setAnalysisResults","filteredModels","filter","model","handleModelSelect","fullImagePath","process","env","REACT_APP_FILE_SERVICE_URL","file_path","response","fetch","method","headers","body","JSON","stringify","imagePath","ok","Error","result","json","err","message","handleClose","handleOriginalImageClick","handleProcessedImageClick","replace","renderAnalysisResults","className","children","fileName","_jsxFileName","lineNumber","columnNumber","tree_count","data","disease","confidence","fruit","freshness","not_freshness","onRequestClose","overlayClassName","onClick","map","disabled","src","alt","image","_c","$RefreshReg$"],"sources":["/home/user/agrivision/frontend/src/components/Dashboard/ImageAnalysisModal.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Modal from 'react-modal';\r\nimport { X, Loader, ZoomIn } from 'lucide-react';\r\nimport ImagePreviewModal from './ImagePreviewModal';\r\n\r\nconst AI_MODELS = [\r\n {\r\n   id: 'blur',\r\n   name: 'Flou Gaussien',\r\n   description: \"Appliquer un effet de flou sur l'image\",\r\n   endpoint: 'http://localhost:5008/api/blur',\r\n   type: 'analysis'\r\n },\r\n {\r\n   id: \"disease-detection\",\r\n   name: \"Détection des maladies\",\r\n   description: \"Identifier les maladies sur les feuilles des plantes.\",\r\n   endpoint: \"http://localhost:5007/api/disease-detection\",\r\n   type: 'analysis'\r\n },\r\n {\r\n   id: \"fruit-quality\",\r\n   name: \"Classification et Qualité des Fruits\",\r\n   description: \"Analyser et classifier les fruits tout en vérifiant leur qualité.\",\r\n   endpoint: \"http://localhost:5000/api/predict\",\r\n   type: 'analysis'\r\n },\r\n {\r\n   id: 'ndvi',\r\n   name: 'Carte NDVI',\r\n   description: \"Analyser les besoins en irrigation à l'aide de l'indice NDVI\",\r\n   endpoint: 'http://localhost:5001/api/ndvi',\r\n   type: 'analysis'\r\n },\r\n {\r\n   id: 'edge-detection',\r\n   name: 'Détection des contours',\r\n   description: 'Détecter les contours de l\\'image',\r\n   endpoint: 'http://localhost:5004/api/edge-detection',\r\n   type: 'detection'\r\n },\r\n {\r\n   id: 'tree-detection',\r\n   name: 'Détection des Arbres',\r\n   description: 'Détecter et compter les arbres',\r\n   endpoint: 'http://localhost:5003/api/analyze-trees',\r\n   type: 'detection'\r\n }\r\n];\r\n\r\nexport default function ImageAnalysisModal({ isOpen, onClose, selectedImage }) {\r\n const [processedImageUrl, setProcessedImageUrl] = useState(null);\r\n const [processing, setProcessing] = useState(false);\r\n const [error, setError] = useState(null);\r\n const [selectedModel, setSelectedModel] = useState(null);\r\n const [previewImage, setPreviewImage] = useState(null);\r\n const [selectedType, setSelectedType] = useState('analysis');\r\n const [analysisResults, setAnalysisResults] = useState(null);\r\n\r\n const filteredModels = AI_MODELS.filter(model => model.type === selectedType);\r\n\r\n const handleModelSelect = async (model) => {\r\n   if (!selectedImage) {\r\n     setError(\"Aucune image sélectionnée.\");\r\n     return;\r\n   }\r\n\r\n   setProcessedImageUrl(null);\r\n   setAnalysisResults(null);\r\n   setProcessing(true);\r\n   setError(null);\r\n   setSelectedModel(model);\r\n\r\n   try {\r\n     const fullImagePath = `${process.env.REACT_APP_FILE_SERVICE_URL}${selectedImage.file_path}`;\r\n\r\n     const response = await fetch(model.endpoint, {\r\n       method: 'POST',\r\n       headers: { 'Content-Type': 'application/json' },\r\n       body: JSON.stringify({ imagePath: fullImagePath }),\r\n     });\r\n\r\n     if (!response.ok) throw new Error('Erreur lors du traitement de l\\'image');\r\n\r\n     const result = await response.json();\r\n     \r\n     if (result.processedImageUrl) {\r\n       setProcessedImageUrl(result.processedImageUrl);\r\n     }\r\n     setAnalysisResults(result);\r\n\r\n   } catch (err) {\r\n     setError(err.message);\r\n     setProcessedImageUrl(null);\r\n     setAnalysisResults(null);\r\n   } finally {\r\n     setProcessing(false);\r\n   }\r\n };\r\n\r\n const handleClose = () => {\r\n   setProcessedImageUrl(null);\r\n   setError(null);\r\n   setSelectedModel(null);\r\n   setPreviewImage(null);\r\n   setAnalysisResults(null);\r\n   onClose();\r\n };\r\n\r\n const handleOriginalImageClick = () => {\r\n   setPreviewImage(selectedImage);\r\n };\r\n\r\n const handleProcessedImageClick = () => {\r\n   if (processedImageUrl) {\r\n     setPreviewImage({\r\n       file_path: processedImageUrl.replace(process.env.REACT_APP_FILE_SERVICE_URL, '')\r\n     });\r\n   }\r\n };\r\n\r\n const renderAnalysisResults = () => {\r\n   if (!analysisResults) return null;\r\n\r\n   switch (selectedModel?.id) {\r\n     case 'tree-detection':\r\n       return (\r\n         <div className=\"mt-4 p-4 bg-white rounded-lg shadow\">\r\n           <h3 className=\"text-lg font-semibold text-green-700 mb-2\">Résultats</h3>\r\n           <p>Nombre d'arbres détectés : {analysisResults.tree_count}</p>\r\n         </div>\r\n       );\r\n     case 'disease-detection':\r\n       return (\r\n         <div className=\"mt-4 p-4 bg-white rounded-lg shadow\">\r\n           <h3 className=\"text-lg font-semibold text-green-700 mb-2\">Résultats</h3>\r\n           <p>Maladie détectée : {analysisResults.data.disease}</p>\r\n           <p>Confiance : {analysisResults.data.confidence}%</p>\r\n         </div>\r\n       );\r\n     case 'fruit-quality':\r\n       return (\r\n         <div className=\"mt-4 p-4 bg-white rounded-lg shadow\">\r\n           <h3 className=\"text-lg font-semibold text-green-700 mb-2\">Résultats</h3>\r\n           <p>Fruit : {analysisResults.data.fruit}</p>\r\n           <p>Fraîcheur : {analysisResults.data.freshness}%</p>\r\n           <p>Non fraîcheur : {analysisResults.data.not_freshness}%</p>\r\n         </div>\r\n       );\r\n     default:\r\n       return null;\r\n   }\r\n };\r\n\r\n return (\r\n   <>\r\n     <Modal\r\n       isOpen={isOpen}\r\n       onRequestClose={handleClose}\r\n       className=\"bg-white rounded-xl max-w-7xl mx-auto mt-10 p-0 h-[80vh] overflow-hidden\"\r\n       overlayClassName=\"fixed inset-0 bg-black bg-opacity-50 flex items-start\"\r\n     >\r\n       <div className=\"flex flex-col h-full\">\r\n         <div className=\"flex justify-between items-center p-4 border-b\">\r\n           <h2 className=\"text-xl font-semibold text-gray-800\">Analyse d'Image avec IA</h2>\r\n           <button onClick={handleClose} className=\"p-2 hover:bg-gray-100 rounded-full\">\r\n             <X className=\"w-5 h-5\" />\r\n           </button>\r\n         </div>\r\n\r\n         <div className=\"flex flex-1 min-h-0\">\r\n           <div className=\"w-64 border-r bg-gray-50 p-4 overflow-y-auto\">\r\n             <div className=\"mb-4\">\r\n               <div className=\"flex items-center justify-between p-2 bg-white rounded-lg shadow-sm\">\r\n                 <button\r\n                   onClick={() => setSelectedType('analysis')}\r\n                   className={`px-3 py-1 rounded-md transition ${\r\n                     selectedType === 'analysis'\r\n                       ? 'bg-green-100 text-green-700'\r\n                       : 'hover:bg-gray-100'\r\n                   }`}\r\n                 >\r\n                   Analysis\r\n                 </button>\r\n                 <button\r\n                   onClick={() => setSelectedType('detection')}\r\n                   className={`px-3 py-1 rounded-md transition ${\r\n                     selectedType === 'detection'\r\n                       ? 'bg-green-100 text-green-700'\r\n                       : 'hover:bg-gray-100'\r\n                   }`}\r\n                 >\r\n                   Detection\r\n                 </button>\r\n               </div>\r\n             </div>\r\n\r\n             <h3 className=\"font-medium text-gray-700 mb-4\">Modèles disponibles</h3>\r\n             <div className=\"space-y-2\">\r\n               {filteredModels.map((model) => (\r\n                 <button\r\n                   key={model.id}\r\n                   onClick={() => handleModelSelect(model)}\r\n                   disabled={processing}\r\n                   className={`w-full p-3 rounded-lg text-left transition ${\r\n                     selectedModel?.id === model.id\r\n                       ? 'bg-green-100 text-green-700'\r\n                       : 'hover:bg-gray-100'\r\n                   }`}\r\n                 >\r\n                   <div className=\"font-medium\">{model.name}</div>\r\n                   <div className=\"text-sm text-gray-500\">{model.description}</div>\r\n                 </button>\r\n               ))}\r\n             </div>\r\n           </div>\r\n\r\n           <div className=\"flex-1 p-6 overflow-y-auto\">\r\n             <div className=\"grid grid-cols-2 gap-6 h-full\">\r\n               <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                 <h4 className=\"text-sm font-medium text-gray-500 mb-2\">Image originale</h4>\r\n                 {selectedImage?.file_path ? (\r\n                   <div className=\"cursor-pointer\" onClick={handleOriginalImageClick}>\r\n                     <div className=\"relative aspect-video bg-white rounded-lg overflow-hidden group\">\r\n                       <img\r\n                         src={`${process.env.REACT_APP_FILE_SERVICE_URL}${selectedImage.file_path}`}\r\n                         alt=\"Original\"\r\n                         className=\"object-contain w-full h-full\"\r\n                       />\r\n                       <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 flex items-center justify-center transition-opacity\">\r\n                         <ZoomIn className=\"w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity\" />\r\n                       </div>\r\n                     </div>\r\n                   </div>\r\n                 ) : (\r\n                   <div className=\"flex items-center justify-center h-full text-gray-400\">\r\n                     Chargement de l'image...\r\n                   </div>\r\n                 )}\r\n               </div>\r\n\r\n               <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                 <h4 className=\"text-sm font-medium text-gray-500 mb-2\">Résultat</h4>\r\n                 {processing ? (\r\n                   <div className=\"flex items-center justify-center h-full\">\r\n                     <Loader className=\"w-8 h-8 animate-spin text-green-600 mx-auto\" />\r\n                   </div>\r\n                 ) : processedImageUrl ? (\r\n                   <div className=\"cursor-pointer\" onClick={handleProcessedImageClick}>\r\n                     <div className=\"relative aspect-video bg-white rounded-lg overflow-hidden group\">\r\n                       <img\r\n                         src={processedImageUrl}\r\n                         alt=\"Résultat\"\r\n                         className=\"object-contain w-full h-full\"\r\n                       />\r\n                       <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 flex items-center justify-center transition-opacity\">\r\n                         <ZoomIn className=\"w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity\" />\r\n                       </div>\r\n                     </div>\r\n                   </div>\r\n                 ) : (\r\n                   <div className=\"flex items-center justify-center h-full text-gray-400\">\r\n                     Aucun résultat disponible\r\n                   </div>\r\n                 )}\r\n                 {renderAnalysisResults()}\r\n               </div>\r\n             </div>\r\n\r\n             {error && (\r\n               <div className=\"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-600\">\r\n                 {error}\r\n               </div>\r\n             )}\r\n           </div>\r\n         </div>\r\n       </div>\r\n     </Modal>\r\n\r\n     <ImagePreviewModal\r\n       isOpen={previewImage !== null}\r\n       onClose={() => setPreviewImage(null)}\r\n       image={previewImage}\r\n     />\r\n   </>\r\n );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}